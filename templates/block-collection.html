<section class="Build"
         ng-class="{'is-active': isActive()}"
         ng-mouseenter="mouseenter()"
         ng-mouseleave="mouseleave()">
  <div class="Build-blocks">
    <article class="Block" ng-repeat="block in blocks track by $index" ng-class="{'is-delete': block.$isDelete}">
      <div class="Block-handlers">
        <div class="Block-icon Block-icon--settings"></div>
        <div class="Block-icon Block-icon--delete"
             ng-mouseenter="block.$isDelete = true"
             ng-mouseleave="block.$isDelete = false"
             ng-click="blocks.splice($index, 1)"></div>
      </div>
      <div ng-switch="block.type">
        <div ng-switch-when="text">
          <div ng-bind-html="block.content"></div>
        </div>
        <div ng-switch-when="container">
          <block-collection blocks="block.blocks" set-outer-hover-status="setInnerHoverStatus" />
        </div>
      </div>
    </article>
  </div>
</section>
