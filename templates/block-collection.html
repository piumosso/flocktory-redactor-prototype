<section class="Build"
         ng-mouseenter="mouseenter()"
         ng-mouseleave="mouseleave()">
  <div class="Build-blocks">
    <article class="Block"
             ng-repeat="block in build.blocks track by $index"
             ng-class="{'is-delete': block.$isDelete, 'is-controlsEnabled': isActive()}">
      <div class="Block-handlers">
        <div class="Block-icon Block-icon--settings"></div>
        <div class="Block-icon Block-icon--delete"
             ng-mouseenter="block.$isDelete = true"
             ng-mouseleave="block.$isDelete = false"
             ng-click="blocks.splice($index, 1)"></div>
      </div>
      <div ng-switch="block.type">
        <div ng-switch-when="header">
          <div class="Header"
               ng-bind-html="block.content"
               ng-class="'Header--' + block.align"
               style="color: {{ block.color }}"></div>
        </div>
        <div ng-switch-when="text">
          <div class="Text"
               ng-bind-html="block.content"
               ng-class="'Text--' + block.align + ' Text--' + block.size"
               style="color: {{ block.color }}"></div>
        </div>
        <div ng-switch-when="links">
          <div class="Links" ng-class="'Links--' + block.align">
            <block-collection build="block.build" set-outer-hover-status="setInnerHoverStatus" />
          </div>
        </div>
        <div ng-switch-when="link">
          <div class="Link"
               ng-bind-html="block.content"
               style="color: {{ block.color }}"></div>
        </div>
        <div ng-switch-when="form">
          <div class="Form"
               style="background: linear-gradient(to bottom right, {{ block.background[0] }} 0%, {{ block.background[1]}} 100%); border-radius: {{ block.borderRadius }}px">
            <block-collection build="block.build" set-outer-hover-status="setInnerHoverStatus" />
          </div>
        </div>
        <div ng-switch-when="popup">
          <div class="Popup"
               style="background: linear-gradient(to bottom right, {{ block.background[0] }} 0%, {{ block.background[1]}} 100%); border-radius: {{ block.borderRadius }}px">
            <div class="Popup-close">&times;</div>
            <block-collection build="block.build" set-outer-hover-status="setInnerHoverStatus" />
          </div>
        </div>
        <div ng-switch-when="field">
          <div class="Field">
            <block-collection build="block.build" set-outer-hover-status="setInnerHoverStatus" />
          </div>
        </div>
        <div ng-switch-when="input">
          <input type="text"
                class="Input"
                 placeholder="{{ block.placeholder }}"
                 name="{{ block.name }}"
                 style="border-radius: {{ block.borderRadius }}px"/>
        </div>
        <div ng-switch-when="button">
          <button class="Button Button--{{ block.size }}"
                  ng-bind-html="block.content"
                  style="color: {{ block.color }}; border-сolor: {{ block.borderColor }}; background: {{ block.background }}; border: {{ block.borderWidth }}px solid; border-radius: {{ block.borderRadius }}px" />
        </div>
        <div ng-switch-when="screen">
          <div class="Screen">
            <div class="Screen-name">Состояние {{ block.name }}</div>
            <block-collection build="block.build" set-outer-hover-status="setInnerHoverStatus" />
          </div>
        </div>
      </div>
    </article>
  </div>
</section>
